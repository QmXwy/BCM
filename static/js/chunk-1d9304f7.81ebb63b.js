(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1d9304f7"],{"0ccb":function(t,e,i){var n=i("50c4"),a=i("1148"),l=i("1d80"),r=Math.ceil,s=function(t){return function(e,i,s){var o,c,u=String(l(e)),f=u.length,d=void 0===s?" ":String(s),h=n(i);return h<=f||""==d?u:(o=h-f,c=a.call(d,r(o/d.length)),c.length>o&&(c=c.slice(0,o)),t?u+c:c+u)}};t.exports={start:s(!1),end:s(!0)}},1148:function(t,e,i){"use strict";var n=i("a691"),a=i("1d80");t.exports="".repeat||function(t){var e=String(a(this)),i="",l=n(t);if(l<0||l==1/0)throw RangeError("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(e+=e))1&l&&(i+=e);return i}},"1d1c":function(t,e,i){},"424a":function(t,e,i){"use strict";i("1d1c")},"4d90":function(t,e,i){"use strict";var n=i("23e7"),a=i("0ccb").start,l=i("9a0c");n({target:"String",proto:!0,forced:l},{padStart:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},"64f6":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"opera-button"},[i("el-button",{attrs:{type:"primary"},on:{click:t.add_data}},[t._v("添加系数方案")])],1),i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticClass:"table-div",attrs:{id:t.tableId,"element-loading-text":"Loading"}},[i("el-table",{attrs:{data:t.list,border:"",fit:"","highlight-current-row":"","max-height":t.tableHeight,"header-cell-style":t.headerCellStyle}},[i("el-table-column",{attrs:{align:"center",label:"ID"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.id)+" ")]}}])}),i("el-table-column",{attrs:{label:"方案名称",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.name)+" ")]}}])}),i("el-table-column",{attrs:{label:"创建时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.createTime||"-")+" ")]}}])}),i("el-table-column",{attrs:{label:"修改时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.updateTime||"-")+" ")]}}])}),i("el-table-column",{attrs:{label:"操作",align:"center",width:"180px"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"success"},on:{click:function(i){return t.edit_data(e.row)}}},[t._v("编辑")]),i("el-button",{attrs:{type:"danger"},on:{click:function(i){return t.delete_data(e.row)}}},[t._v("删除")])]}}])})],1)],1),i("el-dialog",{attrs:{title:"edit"===t.showType?"编辑方案":"添加方案",visible:t.show,"show-close":!1,width:"768px"},on:{"update:visible":function(e){t.show=e}}},[i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.showLoading,expression:"showLoading"}],staticClass:"from"},[i("el-form",{attrs:{model:t.form,"label-width":"70px"},on:{submit:function(t){t.preventDefault()}}},[i("el-form-item",{staticStyle:{"margin-bottom":"10px"},attrs:{label:"方案名称"}},[i("el-input",{staticStyle:{width:"204px","margin-right":"10px"},attrs:{size:"mini"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),"first"===t.activeName?i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.add_list_item}},[t._v("添加调整系数")]):t._e(),"second"===t.activeName?i("el-button",{attrs:{size:"mini",type:"success"},on:{click:t.add_list1_item}},[t._v("添加复核系数")]):t._e(),"third"===t.activeName?i("el-button",{attrs:{size:"mini",type:"warning"},on:{click:t.add_list2_item}},[t._v("添加下浮系数")]):t._e()],1)],1),i("el-tabs",{attrs:{size:"mini"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:"调整系数",name:"first"}},["first"===t.activeName?i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.form.list,border:"",fit:"","highlight-current-row":"",height:"275",size:"mini"}},[i("el-table-column",{attrs:{align:"center",label:"ID"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.id||"-")+" ")]}}],null,!1,1584622269)}),i("el-table-column",{attrs:{align:"center",label:"调整系数值","min-width":"80px"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-select",{staticStyle:{width:"80%"},attrs:{size:"mini",filterable:"","allow-create":"",placeholder:"",clearable:""},model:{value:e.row.value,callback:function(i){t.$set(e.row,"value",i)},expression:"scope.row.value"}},t._l(t.optionsT,(function(t){return i("el-option",{key:t.value,attrs:{size:"mini",label:t.label,value:t.value}})})),1)]}}],null,!1,1399297861)}),i("el-table-column",{attrs:{label:"操作",align:"center",width:"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(i){return t.delete_list_item(e.row)}}},[t._v("删除")])]}}],null,!1,3809672365)})],1):t._e()],1),i("el-tab-pane",{attrs:{label:"复核系数",name:"second"}},["second"===t.activeName?i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.form.list1,border:"",fit:"","highlight-current-row":"",height:"275",size:"mini"}},[i("el-table-column",{attrs:{align:"center",label:"ID"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.id||"-")+" ")]}}],null,!1,1584622269)}),i("el-table-column",{attrs:{align:"center",label:"复核系数值","min-width":"80px"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-select",{staticStyle:{width:"80%"},attrs:{size:"mini",filterable:"","allow-create":"",placeholder:"",clearable:""},model:{value:e.row.value,callback:function(i){t.$set(e.row,"value",i)},expression:"scope.row.value"}},t._l(t.optionsK,(function(t){return i("el-option",{key:t.value,attrs:{size:"mini",label:t.label,value:t.value}})})),1)]}}],null,!1,321518138)}),i("el-table-column",{attrs:{label:"操作",align:"center",width:"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(i){return t.delete_list1_item(e.row)}}},[t._v("删除")])]}}],null,!1,1545901596)})],1):t._e()],1),i("el-tab-pane",{attrs:{label:"下浮系数",name:"third"}},["third"===t.activeName?i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.form.list2,border:"",fit:"","highlight-current-row":"",height:"275",size:"mini"}},[i("el-table-column",{attrs:{align:"center",label:"ID"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.id||"-")+" ")]}}],null,!1,1584622269)}),i("el-table-column",{attrs:{align:"center",label:"下浮系数值","min-width":"80px"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-select",{staticStyle:{width:"80%"},attrs:{size:"mini",filterable:"","allow-create":"",placeholder:"",clearable:""},model:{value:e.row.value,callback:function(i){t.$set(e.row,"value",i)},expression:"scope.row.value"}},t._l(t.optionsI,(function(t){return i("el-option",{key:t.value,attrs:{size:"mini",label:t.label,value:t.value}})})),1)]}}],null,!1,2485736184)}),i("el-table-column",{attrs:{label:"操作",align:"center",width:"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(i){return t.delete_list2_item(e.row)}}},[t._v("删除")])]}}],null,!1,399991167)})],1):t._e()],1)],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{disabled:t.showLoading,size:"mini"},on:{click:function(e){t.show=!1}}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary",disabled:t.showLoading,size:"mini"},on:{click:t.save_data}},[t._v("确 定")])],1)])],1)},a=[],l=(i("99af"),i("d81d"),i("a434"),i("b0c0"),i("e9c4"),i("b64b"),i("d3b7"),i("25f0"),i("4d90"),i("a002")),r=i.n(l),s=i("8941"),o={data:function(){return{optionsT:[],optionsK:[],optionsI:[],list:[],listLoading:!1,show:!1,form:{},showLoading:!1,showType:"",activeName:"first",tableHeight:0,tableId:"coefficient_table"}},created:function(){for(var t=[],e=99;e>=80;e-=1){var i={value:String(e/100),label:3===String(e/100).length?String(e/100)+"0":String(e/100)};t.push(i)}this.optionsT=t;for(var n=[],a=20;a<=70;a+=5){var l={value:String(a/100),label:3===String(a/100).length?String(a/100)+"0":String(a/100)};n.push(l)}this.optionsK=n;for(var r=[],s=10;s<=50;s+=5){var o={value:String(s/10),label:1===String(s/10).length?String(s/10)+".0":String(s/10)};r.push(o)}this.optionsI=r,this.fetchData()},mounted:function(){this.observer=Object(s["b"])(this.tableId,this.calHeight)},beforeDestroy:function(){Object(s["c"])(this.observer)},methods:{headerCellStyle:s["a"],calHeight:function(t){this.tableHeight=t},fetchData:function(){var t=this;this.listLoading=!0,r.a.getItem("_coefficient").then((function(e){t.listLoading=!1,t.list=e||[]})).catch((function(e){t.$message.error(e.message),t.listLoading=!1,t.list=[]}))},add_data:function(){this.activeName="first",this.form={list:[],list1:[],list2:[]},this.showType="add",this.add_list_item("_1"),this.add_list_item("_2"),this.add_list_item("_3"),this.add_list1_item("_4"),this.add_list1_item("_5"),this.add_list1_item("_6"),this.add_list2_item("_7"),this.add_list2_item("_8"),this.add_list2_item("_9"),this.show=!0},edit_data:function(t){this.activeName="first",this.form=JSON.parse(JSON.stringify(t)),this.showType="edit",this.show=!0},save_data:function(){var t=this;if(this.form.name)if(0!==this.form.list.length)if(0!==this.form.list1.length)if(0!==this.form.list2.length){for(var e=!0,i=0;i<this.form.list.length;i++)if(!this.form.list[i].value){this.$message.error("调整系数值不可为空！"),e=!1;break}if(!1!==e){for(var n=0;n<this.form.list1.length;n++)if(!this.form.list1[n].value){this.$message.error("复核系数值不可为空！"),e=!1;break}if(!1!==e){for(var a=0;a<this.form.list2.length;a++)if(!this.form.list2[a].value){this.$message.error("下浮系数值不可为空！"),e=!1;break}if(!1!==e)if(this.showLoading=!0,"add"===this.showType){var l="coefficient_"+(new Date).getTime();setTimeout((function(){r.a.getItem("_coefficient").then((function(e){var i=e||[];t.form.id=l,t.form.createTime=t.getCurrentDateTime(),i.push(t.form),r.a.setItem("_coefficient",i).then((function(){t.$message.success("添加成功！"),t.show=!1,t.showLoading=!1,t.fetchData()}))}))}),1e3)}else setTimeout((function(){r.a.getItem("_coefficient").then((function(e){var i=e||[],n="";t.form.updateTime=t.getCurrentDateTime(),i.map((function(e,i){e.id===t.form.id&&(n=i)})),""!==t.idIndex&&(i[n]=t.form,r.a.setItem("_coefficient",i).then((function(){t.$message.success("修改成功！"),t.show=!1,t.showLoading=!1,t.fetchData()})))}))}),1e3)}}}else this.$message.error("下浮系数列表不能为空！");else this.$message.error("复核系数列表不能为空！");else this.$message.error("调整系数列表不能为空！");else this.$message.error("方案名称错误！")},delete_data:function(t){var e=this;r.a.getItem("_bid").then((function(i){var n=!1,a=i||[];a.map((function(e){e.coefficient===t.id&&(n=!0)})),n?e.$message.error("计算方案正在使用！"):e.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.listLoading=!0,r.a.getItem("_coefficient").then((function(i){var n=i||[],a="";n.map((function(e,i){e.id===t.id&&(a=i)})),""!==a&&(n.splice(a,1),r.a.setItem("_coefficient",n).then((function(){e.$message.success("删除成功！"),e.fetchData()})))}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))}))},add_list_item:function(t){var e=this;this.showLoading=!0;var i=this.form.list||[],n="coefficient_"+(new Date).getTime()+(t||"");setTimeout((function(){i.push({id:n,value:""}),e.$set(e.form,"list",i),e.showLoading=!1}),200)},add_list1_item:function(t){var e=this;this.showLoading=!0;var i=this.form.list1||[],n="coefficient_"+(new Date).getTime()+(t||"");setTimeout((function(){i.push({id:n,value:""}),e.$set(e.form,"list1",i),e.showLoading=!1}),200)},add_list2_item:function(t){var e=this;this.showLoading=!0;var i=this.form.list2||[],n="coefficient_"+(new Date).getTime()+(t||"");setTimeout((function(){i.push({id:n,value:""}),e.$set(e.form,"list2",i),e.showLoading=!1}),200)},delete_list_item:function(t){var e=this.form.list||[],i="";e.map((function(e,n){e.id===t.id&&(i=n)})),""!==i&&e.splice(i,1),this.$set(this.form,"list",e)},delete_list1_item:function(t){var e=this.form.list1||[],i="";e.map((function(e,n){e.id===t.id&&(i=n)})),""!==i&&e.splice(i,1),this.$set(this.form,"list1",e)},delete_list2_item:function(t){var e=this.form.list2||[],i="";e.map((function(e,n){e.id===t.id&&(i=n)})),""!==i&&e.splice(i,1),this.$set(this.form,"list2",e)},getCurrentDateTime:function(){var t=new Date,e=t.getFullYear(),i=(t.getMonth()+1).toString().padStart(2,"0"),n=t.getDate().toString().padStart(2,"0"),a=t.getHours().toString().padStart(2,"0"),l=t.getMinutes().toString().padStart(2,"0"),r=t.getSeconds().toString().padStart(2,"0");return"".concat(e,"-").concat(i,"-").concat(n," ").concat(a,":").concat(l,":").concat(r)}}},c=o,u=(i("424a"),i("2877")),f=Object(u["a"])(c,n,a,!1,null,"54bce871",null);e["default"]=f.exports},8941:function(t,e,i){"use strict";function n(t){if(t)try{t.disconnect(),t=null}catch(e){console.log(e),t=null}}function a(t,e){var i=function(t,e){var i=null;return function(){var n=this;null!==i&&clearTimeout(i),i=setTimeout((function(){t.call(n)}),e)}},n=document.getElementById(t),a=function(){var t=n.getBoundingClientRect().height;e(t)},l=new ResizeObserver(i(a,200));return l.observe(n,{box:"border-box"}),l}function l(){return"background:#F3F7FF;color:#333333;font-weight:700;text-align: center;"}i.d(e,"c",(function(){return n})),i.d(e,"b",(function(){return a})),i.d(e,"a",(function(){return l}))},"9a0c":function(t,e,i){var n=i("342f");t.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(n)},a434:function(t,e,i){"use strict";var n=i("23e7"),a=i("23cb"),l=i("a691"),r=i("50c4"),s=i("7b0b"),o=i("65f0"),c=i("8418"),u=i("1dde"),f=i("ae40"),d=u("splice"),h=f("splice",{ACCESSORS:!0,0:0,1:2}),m=Math.max,g=Math.min,v=9007199254740991,p="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!d||!h},{splice:function(t,e){var i,n,u,f,d,h,b=s(this),_=r(b.length),w=a(t,_),S=arguments.length;if(0===S?i=n=0:1===S?(i=0,n=_-w):(i=S-2,n=g(m(l(e),0),_-w)),_+i-n>v)throw TypeError(p);for(u=o(b,n),f=0;f<n;f++)d=w+f,d in b&&c(u,f,b[d]);if(u.length=n,i<n){for(f=w;f<_-n;f++)d=f+n,h=f+i,d in b?b[h]=b[d]:delete b[h];for(f=_;f>_-n+i;f--)delete b[f-1]}else if(i>n)for(f=_-n;f>w;f--)d=f+n-1,h=f+i-1,d in b?b[h]=b[d]:delete b[h];for(f=0;f<i;f++)b[f+w]=arguments[f+2];return b.length=_-n+i,u}})},e9c4:function(t,e,i){var n=i("23e7"),a=i("d066"),l=i("d039"),r=a("JSON","stringify"),s=/[\uD800-\uDFFF]/g,o=/^[\uD800-\uDBFF]$/,c=/^[\uDC00-\uDFFF]$/,u=function(t,e,i){var n=i.charAt(e-1),a=i.charAt(e+1);return o.test(t)&&!c.test(a)||c.test(t)&&!o.test(n)?"\\u"+t.charCodeAt(0).toString(16):t},f=l((function(){return'"\\udf06\\ud834"'!==r("\udf06\ud834")||'"\\udead"'!==r("\udead")}));r&&n({target:"JSON",stat:!0,forced:f},{stringify:function(t,e,i){var n=r.apply(null,arguments);return"string"==typeof n?n.replace(s,u):n}})}}]);